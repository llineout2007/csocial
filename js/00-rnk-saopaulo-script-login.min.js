let LOGIN_AUTHENTICATION_TOKEN;const LOGIN_STORE_NAME="drogariasp",LOGIN_LGPD_PLATFORM="ecommerce",LOGIN_LGPD_TENANT_ID="drogariasp".includes("pacheco")?"1":"2",LOGIN_LGPD_STORE_ID="drogariasp".includes("pacheco")?"1829":"2424",LOGIN_LGPD_AUTHORIZATION="Basic "+btoa("2W8wyjW6Jhvrl1GAAteQGdIXF5n0eFOD:AkQ3XLx7p6qJFWL9"),LOGIN_LGPD_GDB_ENVIROMENT="dpsp-prod";$(document).ready((()=>{$.login_appendarModais(),$.login_abrirModalAoCarregarPagina(),$.login_limparFormularios(),$.login_listenerVerSenha(),$.login_getAuthenticationToken(),$.login_submitarLogin(),$.login_submitarCriacaoConta(),$.login_submitarChaveDeAcesso(),$.login_submitarChaveDeAcessoCriacaoConta(),$.login_submitarEmailNovaSenha(),$.login_validarCriteriosDaSenha(),$.login_validarInput("rnk-comp-modal-login-form-cadastro","rnk-comp-modal-login-cadastro-input-nome"),$.login_validarInput("rnk-comp-modal-login-form-cadastro","rnk-comp-modal-login-cadastro-input-sobrenome"),$.login_validarInput("rnk-comp-modal-login-form-cadastro","rnk-comp-modal-login-cadastro-input-email"),$.login_validarInput("rnk-comp-modal-login-form-cadastro","rnk-comp-modal-login-cadastro-input-cpf"),$.login_validarInput("rnk-comp-modal-login-form-cadastro","rnk-comp-modal-login-cadastro-input-telefone")})),$.login_abrirModalAoCarregarPagina=function(){$("body").hasClass("rnk-body-login")&&($.getProfile().then((t=>{t.IsUserDefined&&$.login_redirectToParamsOrMain()})),new bootstrap.Modal($("#rnk-comp-modal-login"),{backdrop:"static",keyboard:!1}).show(),$(".rnk-comp-modal-login .btn-close").on("click",(function(t){window.location.href=window.location.origin})),$(".rnk-comp-modal-login").on("hidden.bs.modal",(function(){$(".rnk-comp-modal-login.show").length<1&&location.pathname.includes("login")&&$("#rnk-comp-modal-login").modal("show")})))},$.login_redirectToParamsOrMain=function(){let t=new URLSearchParams(window.location.search).get("ReturnUrl");window.location.href=t?window.location.origin+t+(window.location.hash&&""!=window.location.hash?window.location.hash:""):window.location.origin},$.login_appendarModais=function(){try{let t='<div class="modal fade rnk-comp-modal-login" id="rnk-comp-modal-login" tabindex="-1" aria-hidden="true">';t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Faça seu login</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+="\t\t\t\t<p>Acesse agora a sua conta para acompanhar seus pedidos, ver suas ofertas exclusivas e muito mais.</p>",t+='\t\t\t\t<a href="#rnk-comp-modal-login-chave-acesso" class="btn btn-outline-dark mb-3" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-chave-acesso">Chave acesso por e-mail<i class="fa-light fa-key ms-2"></i></a>',t+='\t\t\t\t<p class="mb-2">Ou entre com seu e-mail e senha.</p>',t+='\t\t\t\t<form id="rnk-comp-modal-login-form">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo para realizar o login:</legend>',t+='\t\t\t\t\t\t<div class="form-floating mb-2">',t+='\t\t\t\t\t\t\t<input type="email" name="login" class="form-control" id="rnk-comp-modal-login-input-email" placeholder="Email" autocomplete="username" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-input-email">Email</label>',t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Email Inválido</div>',t+="\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t<input type="password" name="password" class="form-control" id="rnk-comp-modal-login-input-senha" placeholder="Senha" autocomplete="current-password" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-input-senha">Senha</label>',t+='\t\t\t\t\t\t\t<div class="rnk-comp-modal-login-ver-senha">',t+="\t\t\t\t\t\t\t\t<label>",t+='\t\t\t\t\t\t\t\t\t<input name="show-password" type="checkbox" class="d-none" autocomplete="off" />',t+='\t\t\t\t\t\t\t\t\t<span class="visually-hidden">Ativar ou desativar visualização da senha</span>',t+='\t\t\t\t\t\t\t\t\t<i class="fa-light fa-eye"></i>',t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-light fa-eye-slash"></i>',t+="\t\t\t\t\t\t\t\t</label>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Senha Inválida</div>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer d-block">',t+='\t\t\t\t<div class="d-grid">',t+='\t\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-entrar mb-3" form="rnk-comp-modal-login-form">Entrar</button>',t+='\t\t\t\t\t<a href="#rnk-comp-modal-login-nova-senha-email" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-nova-senha-email">Esqueci minha senha</a>',t+='\t\t\t\t\t<a href="#rnk-comp-modal-login-cadastro" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-cadastro">Não possui uma conta? Cadastre-se Agora!</a>',t+="\t\t\t\t</div>",t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-chave-acesso" id="rnk-comp-modal-login-chave-acesso" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Por favor, informe seu e-mail</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+="\t\t\t\t<p>Para conseguir acessar seu perfil com a chave de acesso.</p>",t+='\t\t\t\t<form id="rnk-comp-modal-login-form-chave-acesso">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo para receber a chave de acesso no seu email:</legend>',t+='\t\t\t\t\t\t<div class="form-floating mb-2">',t+='\t\t\t\t\t\t\t<input type="email" name="login" class="form-control" id="rnk-comp-modal-login-chave-acesso-input-email" placeholder="Email" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-chave-acesso-input-email">Email</label>',t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Email Inválido</div>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-chave-acesso">Confirmar</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-codigo" id="rnk-comp-modal-login-codigo" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Informe o código recebido</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+='\t\t\t\t<p>Enviado para seu email: <span class="rnk-js-email"></span></p>',t+='\t\t\t\t<form id="rnk-comp-modal-login-form-codigo">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo com o código recebido:</legend>',t+='\t\t\t\t\t\t<div class="form-floating mb-3">',t+='\t\t\t\t\t\t\t<input type="text" class="form-control rnk-js-input-codigo" id="rnk-comp-modal-login-codigo-input-codigo" placeholder="Código" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-codigo-input-codigo">Código</label>',t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Código Inválido</div>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login-chave-acesso" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-chave-acesso">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-codigo">Entrar</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-cadastro" id="rnk-comp-modal-login-cadastro" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Cadastrar Nova Conta</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+="\t\t\t\t<p>Crie sua conta nas Drogaria São Paulo agora e acesse promoções exclusivas, fique por dentro das novidades e acompanhe suas comprar!</p>",t+='\t\t\t\t<form id="rnk-comp-modal-login-form-cadastro">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo para criar sua conta:</legend>',t+='\t\t\t\t\t\t<div class="row g-2">',t+='\t\t\t\t\t\t\t<div class="col-12">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="email" name="email" class="form-control" id="rnk-comp-modal-login-cadastro-input-email" placeholder="Email" autocomplete="username" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-email">Email</label>',t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">Email Inválido</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="col-lg-6">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="text" name="nome" class="form-control" id="rnk-comp-modal-login-cadastro-input-nome" placeholder="Nome" pattern="[A-zÀ-ÿs]{3,}" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-nome">Nome</label>',t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">Nome Inválido</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="col-lg-6">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="text" name="sobrenome" class="form-control" id="rnk-comp-modal-login-cadastro-input-sobrenome" placeholder="Sobrenome" pattern="[A-zÀ-ÿs]{3,}" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-sobrenome">Sobrenome</label>',t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">Sobrenome Inválido</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="col-lg-6">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="text" name="cpf" class="form-control rnk-mask-cpf" id="rnk-comp-modal-login-cadastro-input-cpf" placeholder="CPF" inputmode="numeric" pattern="[0-9]{3}.[0-9]{3}.[0-9]{3}-[0-9]{2}" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-cpf">CPF</label>',t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">CPF Inválido</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="col-lg-6">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="text" name="telefone" class="form-control rnk-mask-phone" inputmode="tel" id="rnk-comp-modal-login-cadastro-input-telefone" placeholder="Telefone" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-telefone">Telefone</label>',t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">Telefone Inválido</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="col-lg-6">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="password" name="password" class="form-control rnk-js-validar-criterios-senha" id="rnk-comp-modal-login-cadastro-input-senha" placeholder="Senha" pattern="(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}" autocomplete="new-password" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-senha">Senha</label>',t+='\t\t\t\t\t\t\t\t\t<div class="rnk-comp-modal-login-ver-senha">',t+="\t\t\t\t\t\t\t\t\t\t<label>",t+='\t\t\t\t\t\t\t\t\t\t\t<input name="show-password" type="checkbox" class="d-none" autocomplete="off" />',t+='\t\t\t\t\t\t\t\t\t\t\t<span class="visually-hidden">Ativar ou desativar visualização da senha</span>',t+='\t\t\t\t\t\t\t\t\t\t\t<i class="fa-light fa-eye"></i>',t+='\t\t\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-light fa-eye-slash"></i>',t+="\t\t\t\t\t\t\t\t\t\t</label>",t+="\t\t\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">Senha Inválida</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="col-lg-6">',t+='\t\t\t\t\t\t\t\t<div class="form-floating">',t+='\t\t\t\t\t\t\t\t\t<input type="password" name="passwordConfirm" class="form-control" id="rnk-comp-modal-login-cadastro-input-confirmar-senha" autocomplete="new-password" placeholder="Confirme sua Senha" required="true" />',t+='\t\t\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-cadastro-input-confirmar-senha">Confirme sua Senha</label>',t+='\t\t\t\t\t\t\t\t\t<div class="rnk-comp-modal-login-ver-senha">',t+="\t\t\t\t\t\t\t\t\t\t<label>",t+='\t\t\t\t\t\t\t\t\t\t\t<input name="show-password" type="checkbox" class="d-none" autocomplete="off" />',t+='\t\t\t\t\t\t\t\t\t\t\t<span class="visually-hidden">Ativar ou desativar visualização da senha</span>',t+='\t\t\t\t\t\t\t\t\t\t\t<i class="fa-light fa-eye"></i>',t+='\t\t\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-light fa-eye-slash"></i>',t+="\t\t\t\t\t\t\t\t\t\t</label>",t+="\t\t\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t\t\t<div class="invalid-feedback">Senha Inválida</div>',t+="\t\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t\t</div>",t+="\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t<div class="rnk-comp-modal-login-password-status mt-3">',t+="\t\t\t\t\t\t\t<p><strong>Sua senha deve ter pelo menos:</strong></p>",t+='\t\t\t\t\t\t\t<ul class="list-unstyled">',t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t1 letra maiúscula",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t1 letra minúscula",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t1 número",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t8 caracteres",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t</ul>",t+="\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t<div class="form-check">',t+='\t\t\t\t\t\t\t<input class="form-check-input" name="isNewsletterOptIn" type="checkbox" id="rnk-comp-modal-login-checkbox-email" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-checkbox-email">Desejo receber e-mails da Drogaria São Paulo</label>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-cadastro">Cadastrar conta</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-cadastro-codigo" id="rnk-comp-modal-login-cadastro-codigo" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Informe o código recebido</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+='\t\t\t\t<p>Enviado para seu email: <span class="rnk-js-email"></span></p>',t+='\t\t\t\t<form id="rnk-comp-modal-login-form-cadastro-codigo">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo com o código recebido:</legend>',t+='\t\t\t\t\t\t<div class="form-floating mb-3">',t+='\t\t\t\t\t\t\t<input type="text" class="form-control rnk-js-input-codigo" id="rnk-comp-modal-login-cadastro-codigo-input-codigo" placeholder="Código" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-codigo-input-codigo">Código</label>',t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Código Inválido</div>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login-cadastro" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-cadastro">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-cadastro-codigo">Entrar</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-nova-senha-email" id="rnk-comp-modal-login-nova-senha-email" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Por favor, informe seu e-mail</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+='\t\t\t\t<p><i class="fa-light fa-key me-2"></i>Enviaremos uma chave de validação para seu e-mail.</p>',t+='\t\t\t\t<form id="rnk-comp-modal-login-form-nova-senha-email">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo para receber a chave de acesso no seu email:</legend>',t+='\t\t\t\t\t\t<div class="form-floating mb-2">',t+='\t\t\t\t\t\t\t<input type="email" name="login" class="form-control" id="rnk-comp-modal-login-nova-senha-input-email" placeholder="Email" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-nova-senha-input-email">Email</label>',t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Email Inválido</div>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-nova-senha-email">Confirmar</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-nova-senha" id="rnk-comp-modal-login-nova-senha" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Cadastrar nova Senha</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+='\t\t\t\t<form id="rnk-comp-modal-login-form-nova-senha" class="mt-2">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo para criar sua nova senha:</legend>',t+='\t\t\t\t\t\t<input type="email" class="form-control d-none" id="rnk-comp-modal-login-nova-senha-input-email-2" placeholder="Email" autocomplete="username" />',t+='\t\t\t\t\t\t<div class="form-floating mb-2">',t+='\t\t\t\t\t\t\t<input type="password" name="password" class="form-control rnk-js-validar-criterios-senha" id="rnk-comp-modal-login-nova-senha-input-senha" placeholder="Senha" autocomplete="new-password" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-nova-senha-input-senha">Cadastrar sua Senha</label>',t+='\t\t\t\t\t\t\t<div class="rnk-comp-modal-login-ver-senha">',t+="\t\t\t\t\t\t\t\t<label>",t+='\t\t\t\t\t\t\t\t\t<input name="show-password" type="checkbox" class="d-none" autocomplete="off" />',t+='\t\t\t\t\t\t\t\t\t<span class="visually-hidden">Ativar ou desativar visualização da senha</span>',t+='\t\t\t\t\t\t\t\t\t<i class="fa-light fa-eye"></i>',t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-light fa-eye-slash"></i>',t+="\t\t\t\t\t\t\t\t</label>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Senha Inválida</div>',t+="\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t<div class="form-floating mb-3">',t+='\t\t\t\t\t\t\t<input type="password" name="passwordConfirm" class="form-control" id="rnk-comp-modal-login-nova-senha-input-confirmar" autocomplete="new-password" placeholder="Confirme sua Senha" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-nova-senha-input-confirmar">Confirme sua Senha</label>',t+='\t\t\t\t\t\t\t<div class="rnk-comp-modal-login-ver-senha">',t+="\t\t\t\t\t\t\t\t<label>",t+='\t\t\t\t\t\t\t\t\t<input name="show-password" type="checkbox" class="d-none" autocomplete="off" />',t+='\t\t\t\t\t\t\t\t\t<span class="visually-hidden">Ativar ou desativar visualização da senha</span>',t+='\t\t\t\t\t\t\t\t\t<i class="fa-light fa-eye"></i>',t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-light fa-eye-slash"></i>',t+="\t\t\t\t\t\t\t\t</label>",t+="\t\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Senha Inválida</div>',t+="\t\t\t\t\t\t</div>",t+='\t\t\t\t\t\t<div class="rnk-comp-modal-login-password-status mt-3">',t+="\t\t\t\t\t\t\t<p><strong>Sua senha deve ter pelo menos:</strong></p>",t+='\t\t\t\t\t\t\t<ul class="list-unstyled">',t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t1 letra maiúscula",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t1 letra minúscula",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t1 número",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t\t<li>",t+='\t\t\t\t\t\t\t\t\t<i class="fa-sharp fa-solid fa-circle-check"></i>',t+="\t\t\t\t\t\t\t\t\t8 caracteres",t+="\t\t\t\t\t\t\t\t</li>",t+="\t\t\t\t\t\t\t</ul>",t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login-nova-senha-email" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-nova-senha-email">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-nova-senha">Cadastrar</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",t+='<div class="modal fade rnk-comp-modal-login rnk-comp-modal-login-nova-senha-codigo" id="rnk-comp-modal-login-nova-senha-codigo" tabindex="-1" aria-hidden="true">',t+='\t<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">',t+='\t\t<div class="modal-content">',t+='\t\t\t<div class="modal-header">',t+='\t\t\t\t<h2 class="modal-title">Informe o código recebido</h2>',t+='\t\t\t\t<button class="btn-close" data-bs-dismiss="modal" aria-label="Fechar">',t+='\t\t\t\t\t<span class="visually-hidden">Fechar</span>',t+="\t\t\t\t</button>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-body">',t+='\t\t\t\t<p>Enviado para seu email: <span class="rnk-js-email"></span></p>',t+='\t\t\t\t<form id="rnk-comp-modal-login-form-nova-senha-codigo">',t+="\t\t\t\t\t<fieldset>",t+='\t\t\t\t\t\t<legend class="visually-hidden">Preencha o formulário abaixo com o código recebido:</legend>',t+='\t\t\t\t\t\t<div class="form-floating mb-3">',t+='\t\t\t\t\t\t\t<input type="text" class="form-control rnk-js-input-codigo" id="rnk-comp-modal-login-nova-senha-codigo-input-codigo" placeholder="Código" required="true" />',t+='\t\t\t\t\t\t\t<label for="rnk-comp-modal-login-codigo-input-codigo">Código</label>',t+='\t\t\t\t\t\t\t<div class="invalid-feedback">Código Inválido</div>',t+="\t\t\t\t\t\t</div>",t+="\t\t\t\t\t</fieldset>",t+="\t\t\t\t</form>",t+="\t\t\t</div>",t+='\t\t\t<div class="modal-footer">',t+='\t\t\t\t<a href="#rnk-comp-modal-login-nova-senha-email" class="btn btn-outline-dark rnk-btn-cancelar" data-bs-toggle="modal" data-bs-target="#rnk-comp-modal-login-nova-senha-email">Voltar</a>',t+='\t\t\t\t<button type="submit" class="btn btn-primary rnk-btn-confirmar" form="rnk-comp-modal-login-form-nova-senha-codigo">Entrar</button>',t+="\t\t\t</div>",t+="\t\t</div>",t+="\t</div>",t+="</div>",$("body > main").append(t)}catch(t){console.log(t)}},$.login_listenerVerSenha=()=>{try{$(".rnk-comp-modal-login-ver-senha input").on("change",(t=>{$(t.currentTarget).is(":checked")?$(t.currentTarget).parents(".form-floating").children("input").prop("type","text"):$(t.currentTarget).parents(".form-floating").children("input").prop("type","password")}))}catch(t){console.log(t)}},$.login_getAuthenticationToken=async()=>{try{const t=new FormData;t.append("scope","drogariasp"),t.append("callbackUrl",location.origin+"/api/vtexid/pub/authentication/finish"),t.append("returnUrl",location.origin),await $.ajax({url:"/api/vtexid/pub/authentication/start",method:"POST",type:"POST",contentType:!1,processData:!1,data:t}).done((t=>{LOGIN_AUTHENTICATION_TOKEN=t.authenticationToken})).fail((t=>console.log(t)))}catch(t){console.log(t)}},$.login_logarUsuario=(t,a,o=null,e=1)=>{try{const l=new FormData;l.append("login",t),a&&l.append("password",a),l.append("authenticationToken",LOGIN_AUTHENTICATION_TOKEN),l.append("fingerprint",window.VtexLgpdData.fingerprint),$.ajax({url:"/api/vtexid/pub/authentication/classic/validate",method:"POST",type:"POST",processData:!1,contentType:!1,data:l}).done((a=>{a?.authStatus?.includes("Success")&&$.getJSON("https://frank-api.rankme.com.br/api/vtex/profile/document?storeId=drogariasp&userId="+a.userId,(a=>{!async function(){if(a&&a.length){const o=await $.getSHA256(a[0].document),e=await $.getSHA256(t);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"callback",custom_section:"login",custom_title:"sucesso",user_id:o,user_statusLogin:"logado",user_emailHashed:e})}setTimeout((()=>{location.pathname.includes("login")?$.login_redirectToParamsOrMain():location.reload()}),10)}()})),a?.authStatus?.includes("WrongCredentials")&&o&&(!async function(){const o=await $.getSHA256(t);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"callback",custom_section:"login",custom_title:`erro:${a.authStatus}`,user_statusLogin:"deslogado",user_emailHashed:o})}(),$.bsIsInvalid($(o).find('[type="email"]'),!0),$.bsIsInvalid($(o).find('[type="password"]'),!0))})).fail((l=>{let i=JSON.parse(l.responseText);!async function(){const a=await $.getSHA256(t);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"callback",custom_section:"login",custom_title:`erro:${i.authStatus}`,user_statusLogin:"deslogado",user_emailHashed:a})}(),i?.authStatus?.includes("InvalidEmail")&&$.bsIsInvalid($(o).find('[type="email"]'),!0),i?.authStatus?.includes("InvalidToken")&&1==e&&async function(){await $.login_getAuthenticationToken(),$.login_logarUsuario(t,a,o,e++)}()}))}catch(t){console.log(t)}},$.login_submitarLogin=()=>{try{$("#rnk-comp-modal-login-form").on("submit",(t=>{if(t.preventDefault(),t.currentTarget.checkValidity()){const a=new FormData(t.currentTarget);$.login_logarUsuario(a.get("login"),a.get("password"),t.currentTarget)}}))}catch(t){console.log(t)}},$.login_enviarChaveDeAcesso=(t,a,o)=>{try{const e=new FormData;e.append("email",t),e.append("authenticationToken",LOGIN_AUTHENTICATION_TOKEN),e.append("locale","pt-BR"),e.append("method"," POST"),$.ajax({url:"/api/vtexid/pub/authentication/accesskey/send",method:"POST",type:"POST",contentType:!1,processData:!1,data:e}).done((t=>{a&&a(t)})).fail((t=>{console.log(t),o&&o(t)}))}catch(t){console.log(t)}},$.login_criarSessionUsuario=t=>{try{$.ajax({url:"/api/sessions?items=profile.isAuthenticated",method:"POST",type:"POST",data:JSON.stringify({public:{}})}).done((t=>console.log("Sessão criada"))).fail((t=>console.log("Problema para criar a sessao"))).always((()=>t()))}catch(t){console.log(t)}},$.login_atualizarSessionUsuario=t=>{try{$.ajax({url:"/api/sessions",method:"PATCH",type:"PATCH"}).done((t=>console.log("Atualizar sessão"))).fail((t=>console.log("Problema para atualizar sessao"))).always((()=>$.login_criarSessionUsuario(t)))}catch(t){console.log(t)}},$.login_validarChaveDeAcesso=(t,a)=>{try{const o=new FormData;o.append("login",t),o.append("accessKey",a),o.append("authenticationToken",LOGIN_AUTHENTICATION_TOKEN),$.ajax({url:"/api/vtexid/pub/authentication/accesskey/validate",type:"POST",method:"POST",processData:!1,contentType:!1,data:o}).done((t=>{$.login_atualizarSessionUsuario((()=>{t?.authStatus?.includes("WrongCredentials")?$.bsIsInvalid($("#rnk-comp-modal-login-codigo-input-codigo"),!0):location.pathname.includes("login")?location.href=location.origin:location.reload()}))})).fail((t=>console.log("Erro ao logar o usuario")))}catch(t){console.log(t)}},$.login_submitarValidacaoChaveDeAcesso=t=>{try{$("#rnk-comp-modal-login-form-codigo").unbind("submit"),$("#rnk-comp-modal-login-form-codigo").on("submit",(a=>{if(a.preventDefault(),a.currentTarget.checkValidity()){const a=$("#rnk-comp-modal-login-codigo-input-codigo").val();$.login_validarChaveDeAcesso(t,a)}}))}catch(t){console.log(t)}},$.login_submitarChaveDeAcesso=()=>{try{$("#rnk-comp-modal-login-form-chave-acesso").on("submit",(t=>{if(t.preventDefault(),t.currentTarget.checkValidity()){const t=$("#rnk-comp-modal-login-chave-acesso-input-email").val();$("#rnk-comp-modal-login-codigo .rnk-js-email").html(t),$.login_enviarChaveDeAcesso(t,(t=>{$(".modal").modal("hide"),$("#rnk-comp-modal-login-codigo").modal("show")}),(t=>{$("#rnk-comp-modal-login-chave-acesso-input-email").siblings(".invalid-feedback").html("Chave de acesso não enviada!"),$.bsIsInvalid($("#rnk-comp-modal-login-chave-acesso-input-email"),!0),setTimeout((()=>{$("#rnk-comp-modal-login-chave-acesso-input-email").siblings(".invalid-feedback").html("Email Inválido")}),5e3)})),$.login_submitarValidacaoChaveDeAcesso(t)}}))}catch(t){console.log(t)}},$.login_verificarEmailExistente=(t,a)=>{try{$.ajax({url:"https://frank-api.rankme.com.br/api/vtex/auth/verificarEmailExistente?storeId=drogariasp&email="+t,headers:{key:"fa1f80be7c4c030595d7c55080bccac9"}}).done((t=>a&&a(t))).fail((t=>console.log(t)))}catch(t){console.log(t)}},$.login_validarSenha=(t,a,o,e)=>{try{if(t==a)return!0;const l=$(o).siblings(".invalid-feedback"),i=$(e).siblings(".invalid-feedback");return $(l).html("Senhas diferentes"),$(i).html("Senhas diferentes"),$.bsIsInvalid($(o),!0),$.bsIsInvalid($(e),!0),setTimeout((()=>{$(l).html("Senha Inválida"),$(i).html("Senha Inválida")}),5e3),!1}catch(t){console.log(t)}},$.login_validarCPF=t=>{try{if($.validarCPF(t))return!0;const a=$("#rnk-comp-modal-login-cadastro-input-cpf");return $.bsIsInvalid($(a),!0),!1}catch(t){console.log(t)}},$.login_coletarDadosParaCriarConta=t=>{try{const a=new FormData(t),o={isNewsletterOptIn:!1};for(let[t,e]of a)o[t]=e;"on"==o.isNewsletterOptIn&&(o.isNewsletterOptIn=!0),$.login_validarCPF(o.cpf)&&$.login_validarSenha(o.password,o.passwordConfirm,$("#rnk-comp-modal-login-cadastro-input-senha"),$("#rnk-comp-modal-login-cadastro-input-confirmar-senha"))&&(sessionStorage.setItem("rnkModalLoginDadosCadastro",JSON.stringify(o)),$.login_enviarChaveDeAcesso(o.email,(async t=>{$(".modal").modal("hide"),$("#rnk-comp-modal-login-cadastro-codigo").modal("show");const a=await $.getSHA256(o.cpf.replace(/\D/g,"")),e=await $.getSHA256(o.email);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"callback",custom_section:"cadastro",custom_title:"sucesso",user_id:a,user_emailHashed:e})}),(async t=>{const a=JSON.parse(t.responseText),e=await $.getSHA256(o.cpf.replace(/\D/g,"")),l=await $.getSHA256(o.email);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"callback",custom_section:"cadastro",custom_title:`erro:${a.authStatus}`,user_id:e,user_emailHashed:l})})))}catch(t){console.log(t)}},$.login_cadastrarClienteCustomer=t=>{try{t.telefone=t.telefone.replace(/[\(\)-\s]/g,""),t.cpf=t.cpf.replace(/[\.-]/g,""),$.ajax({url:"https://dpsp-prod.apigee.net/meu-viva-saude/customer/v2/person",type:"POST",contentType:"application/json",headers:{"tenant-id":LOGIN_LGPD_TENANT_ID,Authorization:LOGIN_LGPD_AUTHORIZATION},dataType:"json",data:JSON.stringify({cpf:t.cpf,fullname:t.nome+" "+t.sobrenome,mobile_phone:t.telefone,email:t.email,opt_email:t.isNewsletterOptIn,opt_sms:!1})}).done((t=>{console.log("Cliente cadastrado com sucesso na customer",t)})).fail((t=>{console.log("Ocorreu um erro ao cadastrar o cliente na customer",t)}))}catch(t){console.log(t)}},$.login_armazenarLogLGPD=(t,a)=>{try{$.ajax({type:"PATCH",async:!0,url:"/api/dataentities/LG/documents",data:JSON.stringify({userId:t,cpf:a}),contentType:"application/json"})}catch(t){console.log(t)}},$.login_gravarAceiteTermoLogin=(t,a)=>{try{a=a.replace(/[\.-]/g,""),$("#rnk-comp-modal-login-checkbox-termos").is(":checked")&&$.getJSON("https://api.ipify.org?format=jsonp&callback=?",(o=>{let e={terms:[]};$.ajax({url:"https://dpsp-prod.apigee.net/meu-viva-saude/customer/consents",headers:{platform:"ecommerce","tenant-id":LOGIN_LGPD_TENANT_ID,authorization:LOGIN_LGPD_AUTHORIZATION}}).done((l=>{l?($(l).each(((t,a)=>{let l={noteId:a._id,noteName:a.noteName,noteType:a.noteType,agreed:!0,channel:"ecommerce",url:"fingerprint:"+window.VtexLgpdData.fingerprint,storeId:LOGIN_LGPD_STORE_ID,origin:o.ip,tenant_id:LOGIN_LGPD_TENANT_ID};e.terms.push(l)})),$.ajax({url:"https://dpsp-prod.apigee.net/meu-viva-saude/customer/v2/profiles/"+a+"/terms",type:"POST",headers:{platform:"ecommerce","tenant-id":LOGIN_LGPD_TENANT_ID,authorization:LOGIN_LGPD_AUTHORIZATION},contentType:"application/json",dataType:"json",data:JSON.stringify(e)}).done((o=>{$.login_armazenarLogLGPD(t,a)})).fail((t=>console.log(t)))):console.log("não tem termos")})).fail((t=>console.log(t)))}))}catch(t){console.log(t)}},$.login_cadastrarUsuarioMasterdata=t=>{try{$.ajax({url:"https://frank-api.rankme.com.br/api/vtex/auth/cadastrarCliente?storeId=drogariasp",method:"POST",type:"POST",contentType:"application/json",headers:{key:"fa1f80be7c4c030595d7c55080bccac9"},data:JSON.stringify({email:t.email,firstName:t.nome,lastName:t.sobrenome,document:t.cpf,homePhone:t.telefone,isNewsletterOptIn:t.isNewsletterOptIn})}).done((a=>{a&&(sessionStorage.removeItem("rnkModalLoginDadosCadastro"),$.login_logarUsuario(t.email,t.password))})).fail((t=>console.log(t)))}catch(t){console.log(t)}},$.login_criarConta=(t,a,o=!1)=>{try{const e=new FormData;e.append("login",t.email),e.append("newPassword",t.password),e.append("accessKey",a),e.append("authenticationToken",LOGIN_AUTHENTICATION_TOKEN),e.append("method","POST"),$.ajax({url:"/api/vtexid/pub/authentication/classic/setpassword",method:"POST",type:"POST",data:e,processData:!1,contentType:!1}).done((a=>{o?$.login_logarUsuario(t.email,t.password):($.login_cadastrarClienteCustomer(t),$.login_gravarAceiteTermoLogin(a.userId,t.cpf),$.login_cadastrarUsuarioMasterdata(t))})).fail((t=>{$.bsIsInvalid($(".rnk-comp-modal-login .rnk-js-input-codigo"),!0)}))}catch(t){console.log(t)}},$.login_submitarCriacaoConta=()=>{try{$("#rnk-comp-modal-login-form-cadastro").on("submit",(t=>{if(t.preventDefault(),t.currentTarget.checkValidity()){const a=$("#rnk-comp-modal-login-cadastro-input-email"),o=$(a).siblings(".invalid-feedback"),e=$(a).val();$("#rnk-comp-modal-login-cadastro-codigo .rnk-js-email").html(e),$.login_verificarEmailExistente(e,(e=>{e?.retorno?($(o).html("Email Já Cadastrado"),$.bsIsInvalid($(a),!0),setTimeout((()=>{$(o).html("Email Inválido")}),5e3)):$.login_coletarDadosParaCriarConta(t.currentTarget)}))}}))}catch(t){console.log(t)}},$.login_submitarChaveDeAcessoCriacaoConta=()=>{try{$("#rnk-comp-modal-login-form-cadastro-codigo").on("submit",(t=>{if(t.preventDefault(),t.currentTarget.checkValidity()){let t=$("#rnk-comp-modal-login-cadastro-codigo-input-codigo").val(),a=JSON.parse(sessionStorage.getItem("rnkModalLoginDadosCadastro"));$.login_criarConta(a,t)}}))}catch(t){console.log(t)}},$.login_validarCriteriosDaSenha=()=>{try{const t=[/[A-Z]/,/[a-z]/,/[0-9]/,/[\w]{8,}/];$(".rnk-comp-modal-login .rnk-js-validar-criterios-senha").on("input",(a=>{let o=$(a.currentTarget).parents("form").find(".rnk-comp-modal-login-password-status");$(a.currentTarget).val()&&$(a.currentTarget).val().length?(t.forEach(((t,e)=>{t.test($(a.currentTarget).val())?$(o).find("li:nth-child("+(e+1)+")").removeClass("text-danger").addClass("text-success"):$(o).find("li:nth-child("+(e+1)+")").removeClass("text-success").addClass("text-danger")})),$(o).find("li.text-danger").length?$.bsIsInvalid($(a.currentTarget)):$.bsIsValid($(a.currentTarget))):($.bsIsDefault($(a.currentTarget)),$(o).find("li").removeClass("text-success text-danger"))}))}catch(t){console.log(t)}},$.login_submitarEmailNovaSenha=()=>{try{$("#rnk-comp-modal-login-form-nova-senha-email").on("submit",(t=>{if(t.preventDefault(),t.currentTarget.checkValidity()){const t=$("#rnk-comp-modal-login-nova-senha-input-email").val();$("#rnk-comp-modal-login-nova-senha-codigo .rnk-js-email").html(t),$(".modal").modal("hide"),$("#rnk-comp-modal-login-nova-senha").modal("show"),$.login_submitarNovaSenha(t)}}))}catch(t){console.log(t)}},$.login_submitarNovaSenha=t=>{try{$("#rnk-comp-modal-login-form-nova-senha").unbind("submit"),$("#rnk-comp-modal-login-form-nova-senha").on("submit",(a=>{if(a.preventDefault(),a.currentTarget.checkValidity()){const a=$("#rnk-comp-modal-login-nova-senha-input-senha"),o=$("#rnk-comp-modal-login-nova-senha-input-confirmar"),e=$(a).val(),l=$(o).val();$.login_validarSenha(e,l,a,o)&&$.login_enviarChaveDeAcesso(t,(a=>{$(".modal").modal("hide"),$("#rnk-comp-modal-login-nova-senha-codigo").modal("show"),$.login_submitarChaveDeAcessoNovaSenha(t,e)}),(t=>console.log(t)))}}))}catch(t){console.log(t)}},$.login_submitarChaveDeAcessoNovaSenha=(t,a)=>{try{$("#rnk-comp-modal-login-form-nova-senha-codigo").unbind("submit"),$("#rnk-comp-modal-login-form-nova-senha-codigo").on("submit",(o=>{if(o.preventDefault(),o.currentTarget.checkValidity()){const o={email:t,password:a},e=$("#rnk-comp-modal-login-nova-senha-codigo-input-codigo").val();$.login_criarConta(o,e,!0)}}))}catch(t){console.log(t)}},$.login_limparFormularios=()=>{try{$(".rnk-comp-modal-login").on("hidden.bs.modal",(t=>{$(t.currentTarget).find("form").each(((t,a)=>a.reset())),$(".rnk-comp-modal-login-password-status li").removeClass("text-danger text-success")}))}catch(t){console.log(t)}},$.login_validarInput=function(t,a){try{let o,e=500;$("#"+t+" #"+a).on("input",(function(t){clearTimeout(o),o=setTimeout((()=>{let a=$(t.currentTarget),o=$(a).attr("pattern"),e=$(a).attr("id"),l=$(a).val(),i=new RegExp(o,"g"),n=$(a).attr("type");o||("email"==n&&(o=/[a-z0-9_.]{2,}@[a-z0-9_.]{2,}(\.[a-z]{2,})+/g),"rnk-comp-modal-login-cadastro-input-telefone"==e&&(o=/\([0-9]{2}\)\s[0-9]{5}-[0-9]{4}/g),i=o),i.test(l)?"rnk-comp-modal-login-cadastro-input-cpf"==e?$.login_validarCPF(l)?$.bsIsValid($(a)):$.bsIsInvalid($(a)):$.bsIsValid($(a)):$.bsIsInvalid($(a))}),e)}))}catch(t){console.log(t)}};